<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/features/propertycard.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/features/propertycard.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file Property card component for grid display
 * @module components/features/PropertyCard
 * @description Displays property information in a card format with image, price, details,
 * and investment metrics. Includes save functionality, hover effects, quick scoring,
 * and formula-based rent estimation. No external API calls per card for performance.
 * 
 * Features:
 * - Formula-based rent estimation (no API calls per card)
 * - Quick investment scoring (0-100)
 * - Multi-family property detection
 * - Save/unsave functionality with Firebase
 * - Hover effects with expanded metrics
 * - Image error handling with fallback
 * 
 * @requires react
 * @requires react-router-dom
 * @requires lucide-react
 * @requires ../../services/database
 * @requires ../../hooks/useAuth
 * 
 * @version 1.0.0
 */
import React, { useState, useMemo, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { Bed, Bath, Square, MapPin, TrendingUp, Heart, Building2 } from 'lucide-react';
import { saveProperty, unsaveProperty, isPropertySaved } from '../../services/database';
import { useAuth } from '../../hooks/useAuth';

/**
 * Property Card Component
 * 
 * Displays a property listing in card format with image, price, details, and
 * investment metrics. Optimized for performance by avoiding per-card API calls.
 * Uses formula-based rent estimation instead of calling RentCast for every card.
 * 
 * PERFORMANCE OPTIMIZATIONS:
 * - No Firebase calls without authentication check
 * - Only calls isPropertySaved if user is logged in
 * - Formula-based rent estimation (no RentCast API per card)
 * - Memoized calculations for metrics
 * 
 * @component
 * @param {Object} props - Component props
 * @param {Object} props.property - Property data object from Realty API
 * @param {string} props.property.property_id - Unique property identifier
 * @param {number} [props.property.list_price] - Property list price
 * @param {Object} [props.property.location] - Location object with address
 * @param {Object} [props.property.description] - Property description (beds, baths, sqft)
 * @param {string} [props.property.thumbnail] - Thumbnail image URL
 * @param {boolean} [props.isSelected=false] - Whether card is selected
 * @param {Function} [props.onHover] - Callback when card is hovered
 * @param {boolean} [props.isExpanded=false] - Whether expanded view is open
 * @param {Function} [props.onExpand] - Callback to open expanded view
 * @param {Object} [props.rentData=null] - Optional pre-loaded rent data from RentCast
 * @param {number} [props.rentData.totalMonthlyRent] - Total monthly rent
 * @param {number} [props.rentData.rentEstimate] - Per-unit rent estimate
 * @returns {React.ReactElement} Property card component
 * 
 * @example
 * &lt;PropertyCard 
 *   property={propertyData}
 *   onExpand={() => setExpandedProperty(propertyData)}
 *   onHover={() => console.log('Hovered')}
 * />
 * 
 * @example
 * // With pre-loaded rent data
 * &lt;PropertyCard 
 *   property={propertyData}
 *   rentData={{ totalMonthlyRent: 2000, rentEstimate: 2000 }}
 *   isSelected={selectedId === propertyData.property_id}
 * />
 */
const PropertyCard = ({ 
  property, 
  isSelected = false,
  onHover,
  isExpanded = false,
  onExpand,
  // Optionally pass in rent data if already loaded
  rentData = null
}) => {
  const navigate = useNavigate();
  const { currentUser } = useAuth();
    /**
   * Image error state for fallback handling
   */
  const [imageError, setImageError] = useState(false);
    /**
   * Hover state for showing additional metrics
   */
  const [isHovered, setIsHovered] = useState(false);
    /**
   * Property saved state from Firebase
   */
  const [isSaved, setIsSaved] = useState(false);
    /**
   * Saving operation in progress flag
   */
  const [saving, setSaving] = useState(false);

   /**
   * Extract property address with fallbacks
   * Tries multiple possible property data formats
   * @type {string}
   */
  const address = property.location?.address?.line || property.address || 'Address not available';
    /**
   * Extract city name with fallbacks
   * @type {string}
   */
  const city = property.location?.address?.city || property.city || '';
    /**
   * Extract state code with fallbacks
   * @type {string}
   */
  const state = property.location?.address?.state_code || property.state || '';
    /**
   * Extract ZIP code with fallbacks
   * @type {string}
   */
  const zipCode = property.location?.address?.postal_code || property.zip || '';
    /**
   * Extract price with fallbacks
   * @type {number}
   */
  const price = property.list_price || property.price || 0;
    /**
   * Extract number of bedrooms with fallbacks
   * @type {number}
   */
  const beds = property.description?.beds || property.beds || 0;
    /**
   * Extract number of bathrooms with fallbacks
   * @type {number}
   */
  const baths = property.description?.baths || property.baths || 0;
    /**
   * Extract square footage with fallbacks
   * @type {number}
   */
  const sqft = property.description?.sqft || property.sqft || 0;
    /**
   * Extract property type with fallbacks
   * @type {string}
   */
  const propertyType = property.description?.type || property.propertyType || '';

  // Detect multi-family from property type
    /**
   * Detect if property is multi-family
   * 
   * Checks property type string for multi-family keywords including
   * multi-family, duplex, triplex, fourplex, and apartment.
   * 
   * @type {boolean}
   * @memoized
   */
  const isMultiFamily = useMemo(() => {
  // Priority 1: Use rentData if available
  if (rentData?.unitCount > 1) return true;
  if (rentData?.isMultiFamily) return true;
  
  // Priority 2: Fall back to type detection
  const type = propertyType.toLowerCase();
  return type.includes('multi') || type.includes('duplex') || 
         type.includes('triplex') || type.includes('fourplex') ||
         type.includes('apartment');
}, [propertyType, rentData]);

const unitCount = rentData?.unitCount || (isMultiFamily ? 2 : 1);

   /**
   * Get best available image URL
   * 
   * Tries multiple possible image sources in priority order.
   * Falls back to placeholder if all sources fail or imageError is true.
   * 
   * Priority: primaryPhoto > thumbnail > primary_photo.href > photos[0] > placeholder
   * 
   * @type {string}
   * @memoized
   */
  const imageUrl = useMemo(() => {
    if (imageError) return 'https://placehold.co/640x480/e2e8f0/64748b?text=No+Image';
    
    return property.primaryPhoto ||
           property.thumbnail ||
           property.primary_photo?.href ||
           property.photos?.[0]?.href ||
           'https://placehold.co/640x480/e2e8f0/64748b?text=No+Image';
  }, [property, imageError]);

  // ===== FORMULA-BASED RENT ESTIMATE (No API) =====
   /**
   * Estimate monthly rent using formula-based calculation
   * 
   * PERFORMANCE: No API calls per card - uses price-to-rent ratio formulas
   * 
   * Algorithm:
   * 1. Base rent multiplier varies by price range (higher prices = lower ratio)
   * 2. Bedroom adjustments (+15% for 4+ beds, +8% for 3 beds, -15% for studios)
   * 3. Square footage adjustments (+8% for 2500+ sqft, -8% for &lt;1000 sqft)
   * 4. Rounds to nearest $50 for realistic estimates
   * 
   * Uses passed rentData if available (from RentCast API), otherwise calculates.
   * 
   * @type {number}
   * @memoized
   * @returns {number} Estimated monthly rent in dollars
   * 
   * @example
   * // $250,000 property, 3 bed, 1500 sqft
   * // Base: 250000 * 0.008 = 2000
   * // Beds: 2000 * 1.08 = 2160
   * // Result: ~2150 (rounded to $50)
   */
  const estimateRent = useMemo(() => {
    // If we have rent data passed in, use that
    if (rentData?.totalMonthlyRent) return rentData.totalMonthlyRent;
    if (rentData?.rentEstimate) return rentData.rentEstimate;
    
    if (!price || price &lt;= 0) return 0;
    
    // Rent-to-price ratio varies by price range
    let rentMultiplier;
    if (price &lt; 150000) rentMultiplier = 0.009;
    else if (price &lt; 250000) rentMultiplier = 0.008;
    else if (price &lt; 400000) rentMultiplier = 0.007;
    else if (price &lt; 600000) rentMultiplier = 0.006;
    else if (price &lt; 1000000) rentMultiplier = 0.005;
    else rentMultiplier = 0.004;
    
    let estimate = price * rentMultiplier;
    
    // Bedroom adjustments
    if (beds >= 4) estimate *= 1.15;
    else if (beds >= 3) estimate *= 1.08;
    else if (beds &lt;= 1) estimate *= 0.85;
    
    // Square footage adjustments
    if (sqft > 2500) estimate *= 1.08;
    else if (sqft > 2000) estimate *= 1.05;
    else if (sqft &lt; 1000) estimate *= 0.92;
    
    return Math.round(estimate / 50) * 50;
  }, [price, beds, sqft, rentData]);


  /**
   * Calculate quick investment metrics
   * 
   * Computes simplified investment metrics for quick property comparison:
   * - Gross Yield: Annual rent / Purchase price
   * - Monthly Cash Flow: Estimated profit after all expenses
   * - Cap Rate: Simplified NOI / Purchase price
   * - Investment Score: 0-100 score based on multiple factors
   * 
   * SCORING ALGORITHM (0-100):
   * Base: 50 points
   * - Price per sqft: +15 to -10 points
   * - Gross yield: +15 to -10 points
   * - Bedroom value ratio: +10 to -10 points
   * - Price sweet spot: +5 to -5 points
   * 
   * Score ranges:
   * - 80-100: Excellent (emerald)
   * - 65-79: Good (green)
   * - 50-64: Fair (yellow)
   * - 35-49: Risky (orange)
   * - 0-34: Poor (red)
   * 
   * @type {Object|null}
   * @memoized
   * @property {number} grossYield - Gross yield percentage
   * @property {number} capRate - Capitalization rate percentage
   * @property {number} monthlyCashFlow - Monthly cash flow in dollars
   * @property {number} score - Investment score 0-100
   * @property {string} label - Score label (Excellent/Good/Fair/Risky/Poor)
   * @property {string} color - Color code (emerald/green/yellow/orange/red)
   * 
   * @example
   * // Returns:
   * {
   *   grossYield: 8.5,
   *   capRate: 6.2,
   *   monthlyCashFlow: 450,
   *   score: 72,
   *   label: 'Good',
   *   color: 'green'
   * }
   */
  const quickMetrics = useMemo(() => {
    if (!price || !estimateRent) return null;

    const grossYield = ((estimateRent * 12) / price) * 100;
    
    // Simple cash flow estimate
    const monthlyMortgage = (price * 0.80) * 0.006;
    const monthlyExpenses = (price * 0.012 / 12) + (price * 0.004 / 12);
    const monthlyCashFlow = estimateRent - monthlyMortgage - monthlyExpenses - (estimateRent * 0.18);
    
    // Cap rate (simplified)
    const annualNOI = (estimateRent * 12) * 0.65;
    const capRate = (annualNOI / price) * 100;

    // Score calculation
    let score = 50;
    
    // Price per sqft scoring
    if (sqft > 0) {
      const pricePerSqft = price / sqft;
      if (pricePerSqft &lt; 100) score += 15;
      else if (pricePerSqft &lt; 150) score += 10;
      else if (pricePerSqft &lt; 200) score += 5;
      else if (pricePerSqft >= 400) score -= 10;
      else if (pricePerSqft >= 300) score -= 5;
    }
    
    // Gross yield scoring
    if (grossYield >= 12) score += 15;
    else if (grossYield >= 10) score += 10;
    else if (grossYield >= 8) score += 5;
    else if (grossYield &lt; 5) score -= 10;
    
    // Bedroom value scoring
    if (beds > 0) {
      const bedsPerHundredK = beds / (price / 100000);
      if (bedsPerHundredK >= 1.5) score += 10;
      else if (bedsPerHundredK >= 1.0) score += 5;
      else if (bedsPerHundredK &lt; 0.3) score -= 10;
    }
    
    // Price range sweet spot
    if (price >= 150000 &amp;&amp; price &lt;= 350000) score += 5;
    else if (price > 750000) score -= 5;
    
    score = Math.max(0, Math.min(100, Math.round(score)));

    let label, color;
    if (score >= 80) { label = 'Excellent'; color = 'emerald'; }
    else if (score >= 65) { label = 'Good'; color = 'green'; }
    else if (score >= 50) { label = 'Fair'; color = 'yellow'; }
    else if (score >= 35) { label = 'Risky'; color = 'orange'; }
    else { label = 'Poor'; color = 'red'; }

    return {
      grossYield,
      capRate,
      monthlyCashFlow,
      score,
      label,
      color
    };
  }, [price, estimateRent, beds, sqft]);


   /**
   * Check if property is saved by current user
   * 
   * CRITICAL PERFORMANCE FIX: Only checks if user is logged in to avoid
   * unnecessary Firebase calls and permission errors.
   * 
   * Runs when:
   * - Component mounts
   * - User authentication state changes
   * - Property ID changes
   * 
   * @listens currentUser.uid
   * @listens property.property_id
   */
  useEffect(() => {
    const checkSaved = async () => {
      // CRITICAL: Only check if user is actually logged in
      if (!currentUser?.uid || !property.property_id) {
        setIsSaved(false);
        return;
      }
      
      try {
        const saved = await isPropertySaved(currentUser.uid, property.property_id);
        setIsSaved(saved);
      } catch (error) {
        // Silently fail - don't spam console
        setIsSaved(false);
      }
    };
    
    checkSaved();
  }, [currentUser?.uid, property.property_id]);


    /**
   * Format price as USD currency
   * 
   * @function
   * @param {number} value - Price value in dollars
   * @returns {string} Formatted price string (e.g., "$250,000")
   * 
   * @example
   * formatPrice(250000); // "$250,000"
   * formatPrice(null);   // "N/A"
   */
  const formatPrice = (value) => {
    if (!value) return 'N/A';
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 0,
      maximumFractionDigits: 0,
    }).format(value);
  };

    /**
   * Handle card click event
   * 
   * Opens expanded property view when card is clicked.
   * Prevents event propagation to avoid triggering parent handlers.
   * 
   * @function
   * @param {React.MouseEvent} e - Click event
   */
  const handleCardClick = (e) => {
    e.preventDefault();
    e.stopPropagation();
    if (onExpand) {
      onExpand();
    }
  };

    /**
   * Handle mouse enter event
   * 
   * Sets hover state and triggers onHover callback.
   * Shows additional metrics when hovering.
   * 
   * @function
   */
  const handleMouseEnter = () => {
    setIsHovered(true);
    if (onHover) onHover();
  };

  /**
   * Handle mouse leave event
   * 
   * Clears hover state and hides additional metrics.
   * 
   * @function
   */
  const handleMouseLeave = () => {
    setIsHovered(false);
  };

   /**
   * Handle save/unsave button click
   * 
   * Toggles property saved status in Firebase. Redirects to sign-in
   * if user is not authenticated. Shows visual feedback during save operation.
   * 
   * Process:
   * 1. Check if user is logged in (redirect if not)
   * 2. Set saving state (disable button)
   * 3. Call saveProperty or unsaveProperty
   * 4. Update local isSaved state
   * 5. Clear saving state
   * 
   * @async
   * @function
   * @param {React.MouseEvent} e - Click event
   * 
   * @example
   * // User clicks save button
   * // -> Saves to Firebase: savedProperties/{userId}_{propertyId}
   * // -> Updates UI to show filled heart icon
   */
  const handleSaveClick = async (e) => {
    e.preventDefault();
    e.stopPropagation();
    
    if (!currentUser) {
      navigate('/signin');
      return;
    }

    setSaving(true);
    try {
      const propertyData = {
        property_id: property.property_id,
        address,
        city,
        state,
        zip: zipCode,
        price,
        beds,
        baths,
        sqft,
        thumbnail: imageUrl,
        rentEstimate: estimateRent,
        rentSource: rentData ? 'RentCast' : 'estimate',
        metrics: quickMetrics ? {
          score: quickMetrics.score,
          capRate: quickMetrics.capRate,
          monthlyCashFlow: quickMetrics.monthlyCashFlow
        } : null
      };

      if (isSaved) {
        await unsaveProperty(currentUser.uid, property.property_id);
        setIsSaved(false);
      } else {
        await saveProperty(currentUser.uid, propertyData);
        setIsSaved(true);
      }
    } catch (error) {
      console.error('Error saving property:', error);
    } finally {
      setSaving(false);
    }
  };

    /**
   * Get Tailwind CSS classes for score badge
   * 
   * Maps color names to Tailwind background and text color classes.
   * 
   * @function
   * @param {string} color - Color name (emerald/green/yellow/orange/red/gray)
   * @returns {string} Tailwind CSS classes
   * 
   * @example
   * getScoreColors('emerald'); // 'bg-emerald-500 text-white'
   * getScoreColors('red');     // 'bg-red-500 text-white'
   */
  const getScoreColors = (color) => {
    const colors = {
      emerald: 'bg-emerald-500 text-white',
      green: 'bg-green-500 text-white',
      yellow: 'bg-yellow-500 text-white',
      orange: 'bg-orange-500 text-white',
      red: 'bg-red-500 text-white',
      gray: 'bg-gray-400 text-white'
    };
    return colors[color] || colors.gray;
  };

  return (
    &lt;div
      className={`bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer ${
        isSelected ? 'ring-2 ring-blue-500 shadow-xl' : ''
      }`}
      onClick={handleCardClick}
      onMouseEnter={handleMouseEnter}
      onMouseLeave={handleMouseLeave}
    >
      {/* Image Container */}
      &lt;div className="relative h-48 bg-gray-200">
        &lt;img
          src={imageUrl}
          alt={address}
          className="w-full h-full object-cover"
          onError={() => setImageError(true)}
        />
        
        {/* Score Badge */}
        {quickMetrics &amp;&amp; (
          &lt;div className={`absolute top-3 left-3 px-2 py-1 rounded-lg ${getScoreColors(quickMetrics.color)} font-bold text-sm flex items-center gap-1`}>
            &lt;span>{quickMetrics.score}&lt;/span>
            &lt;span className="text-xs opacity-90">{quickMetrics.label}&lt;/span>
          &lt;/div>
        )}

        {/* Multi-family badge */}
        {isMultiFamily &amp;&amp; (
          &lt;div className="absolute top-3 right-12 px-2 py-1 rounded-lg bg-purple-600 text-white text-xs font-medium flex items-center gap-1">
            &lt;Building2 className="w-3 h-3" />
            Multi
          &lt;/div>
        )}

        {/* Save Button */}
        &lt;button
          onClick={handleSaveClick}
          disabled={saving}
          className={`absolute top-3 right-3 p-2 rounded-full transition-colors ${
            isSaved 
              ? 'bg-red-500 text-white' 
              : 'bg-white/90 text-gray-600 hover:bg-white hover:text-red-500'
          } ${!currentUser ? 'opacity-60' : ''}`}
          title={!currentUser ? 'Sign in to save' : (isSaved ? 'Remove from saved' : 'Save property')}
        >
          &lt;Heart className="w-4 h-4" fill={isSaved ? 'currentColor' : 'none'} />
        &lt;/button>

        {/* Rent Data Badge */}
        {rentData &amp;&amp; (
          &lt;div className="absolute bottom-3 right-3 px-2 py-1 rounded bg-green-500/90 text-white text-xs font-medium">
            âœ“ Rent Verified
          &lt;/div>
        )}
      &lt;/div>

      {/* Content */}
      &lt;div className="p-4">
        {/* Price */}
        &lt;div className="flex justify-between items-start mb-2">
          &lt;h3 className="text-xl font-bold text-gray-900">{formatPrice(price)}&lt;/h3>
          {quickMetrics &amp;&amp; (
            &lt;span className={`text-xs px-2 py-0.5 rounded ${
              quickMetrics.monthlyCashFlow >= 0 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
            }`}>
              {quickMetrics.monthlyCashFlow >= 0 ? '+' : ''}{formatPrice(quickMetrics.monthlyCashFlow)}/mo
            &lt;/span>
          )}
        &lt;/div>

        {/* Property Details */}
        &lt;div className="flex items-center gap-3 text-sm text-gray-600 mb-2">
          &lt;span className="flex items-center gap-1">
            &lt;Bed className="w-4 h-4" /> {beds}
          &lt;/span>
          &lt;span className="flex items-center gap-1">
            &lt;Bath className="w-4 h-4" /> {baths}
          &lt;/span>
          &lt;span className="flex items-center gap-1">
            &lt;Square className="w-4 h-4" /> {sqft.toLocaleString()}
          &lt;/span>
        &lt;/div>
        {/* Multi-family badge */}
        {isMultiFamily &amp;&amp; (
          &lt;div className="absolute top-3 right-12 px-2 py-1 rounded-lg bg-purple-600 text-white text-xs font-medium flex items-center gap-1">
            &lt;Building2 className="w-3 h-3" />
            {unitCount} Units
          &lt;/div>
        )}

        {/* Address */}
        &lt;p className="text-sm text-gray-600 flex items-center gap-1 truncate">
          &lt;MapPin className="w-4 h-4 flex-shrink-0" />
          &lt;span className="truncate">{address}&lt;/span>
        &lt;/p>
        &lt;p className="text-xs text-gray-500 ml-5">{city}, {state} {zipCode}&lt;/p>

        {/* Quick Metrics on Hover */}
        {isHovered &amp;&amp; quickMetrics &amp;&amp; (
          &lt;div className="mt-3 pt-3 border-t border-gray-100 grid grid-cols-2 gap-2 text-xs">
            &lt;div className="text-center">
              &lt;p className="text-gray-500">Cap Rate&lt;/p>
              &lt;p className="font-semibold text-gray-900">{quickMetrics.capRate.toFixed(1)}%&lt;/p>
            &lt;/div>
            &lt;div className="text-center">
              &lt;p className="text-gray-500">Gross Yield&lt;/p>
              &lt;p className="font-semibold text-gray-900">{quickMetrics.grossYield.toFixed(1)}%&lt;/p>
            &lt;/div>
          &lt;/div>
        )}
      &lt;/div>
    &lt;/div>
  );
};

export default PropertyCard;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-components_analysis_BuyHoldProjections.html">components/analysis/BuyHoldProjections</a></li><li><a href="module-components_analysis_PurchaseWorksheet.html">components/analysis/PurchaseWorksheet</a></li><li><a href="module-components_features_ExpandedPropertyView.html">components/features/ExpandedPropertyView</a></li><li><a href="module-components_features_PropertiesGrid.html">components/features/PropertiesGrid</a></li><li><a href="module-components_features_PropertyCard.html">components/features/PropertyCard</a></li><li><a href="module-components_features_PropertyMap.html">components/features/PropertyMap</a></li><li><a href="module-config_firebase.html">config/firebase</a></li><li><a href="module-contexts_AuthContext.html">contexts/AuthContext</a></li><li><a href="module-hooks_useSavedProperties.html">hooks/useSavedProperties</a></li><li><a href="module-pages_Properties.html">pages/Properties</a></li><li><a href="module-pages_PropertyAnalysisPage.html">pages/PropertyAnalysisPage</a></li><li><a href="module-services_database.html">services/database</a></li><li><a href="module-services_realtyAPI.html">services/realtyAPI</a></li><li><a href="module-services_rentCastApi.html">services/rentCastApi</a></li></ul><h3>Classes</h3><ul><li><a href="BuyRentHoldCalculator.html">BuyRentHoldCalculator</a></li><li><a href="RentalPropertyCalculator.html">RentalPropertyCalculator</a></li></ul><h3>Global</h3><ul><li><a href="global.html#CurrencyInput">CurrencyInput</a></li><li><a href="global.html#DEFAULTS">DEFAULTS</a></li><li><a href="global.html#DEFAULT_SCORING_CONFIG">DEFAULT_SCORING_CONFIG</a></li><li><a href="global.html#Dashboard">Dashboard</a></li><li><a href="global.html#InlineInput">InlineInput</a></li><li><a href="global.html#NumberInput">NumberInput</a></li><li><a href="global.html#PercentInput">PercentInput</a></li><li><a href="global.html#Profile">Profile</a></li><li><a href="global.html#SCORING_PRESETS">SCORING_PRESETS</a></li><li><a href="global.html#applyScoringPreset">applyScoringPreset</a></li><li><a href="global.html#calculateDistance">calculateDistance</a></li><li><a href="global.html#calculateDynamicScore">calculateDynamicScore</a></li><li><a href="global.html#calculateInvestmentScore">calculateInvestmentScore</a></li><li><a href="global.html#calculateMonthlyPayment">calculateMonthlyPayment</a></li><li><a href="global.html#calculatePolygonArea">calculatePolygonArea</a></li><li><a href="global.html#calculatePrincipalPaidYear1">calculatePrincipalPaidYear1</a></li><li><a href="global.html#calculateProfileScore">calculateProfileScore</a></li><li><a href="global.html#calculateQuickScore">calculateQuickScore</a></li><li><a href="global.html#calculateVerifiedScore">calculateVerifiedScore</a></li><li><a href="global.html#clearCache">clearCache</a></li><li><a href="global.html#detectMultiFamily">detectMultiFamily</a></li><li><a href="global.html#detectMultiFamilyFromType">detectMultiFamilyFromType</a></li><li><a href="global.html#estimateRent">estimateRent</a></li><li><a href="global.html#estimateUnitsFromProperty">estimateUnitsFromProperty</a></li><li><a href="global.html#filterPropertiesInBoundary">filterPropertiesInBoundary</a></li><li><a href="global.html#formatArea">formatArea</a></li><li><a href="global.html#formatDistance">formatDistance</a></li><li><a href="global.html#getAvailableMetrics">getAvailableMetrics</a></li><li><a href="global.html#getCacheStats">getCacheStats</a></li><li><a href="global.html#getExpenseDefaults">getExpenseDefaults</a></li><li><a href="global.html#getFinancingDefaults">getFinancingDefaults</a></li><li><a href="global.html#getInvestmentTargets">getInvestmentTargets</a></li><li><a href="global.html#getInvestmentThresholds">getInvestmentThresholds</a></li><li><a href="global.html#getInvestorProfile">getInvestorProfile</a></li><li><a href="global.html#getPolygonCenter">getPolygonCenter</a></li><li><a href="global.html#getPreferredLocation">getPreferredLocation</a></li><li><a href="global.html#getPropertiesCountInBoundary">getPropertiesCountInBoundary</a></li><li><a href="global.html#getPropertyCoordinates">getPropertyCoordinates</a></li><li><a href="global.html#getPropertyDataOnHover">getPropertyDataOnHover</a></li><li><a href="global.html#getPropertyDetails">getPropertyDetails</a></li><li><a href="global.html#getRentEstimate">getRentEstimate</a></li><li><a href="global.html#getScoringPresets">getScoringPresets</a></li><li><a href="global.html#getScoringWeights">getScoringWeights</a></li><li><a href="global.html#hasPreferredLocation">hasPreferredLocation</a></li><li><a href="global.html#isPointInCircle">isPointInCircle</a></li><li><a href="global.html#isPointInPolygon">isPointInPolygon</a></li><li><a href="global.html#mapPropertyType">mapPropertyType</a></li><li><a href="global.html#meetsInvestmentCriteria">meetsInvestmentCriteria</a></li><li><a href="global.html#mergeScoringConfig">mergeScoringConfig</a></li><li><a href="global.html#router">router</a></li><li><a href="global.html#saveInvestorProfile">saveInvestorProfile</a></li><li><a href="global.html#toRad">toRad</a></li><li><a href="global.html#validateProfile">validateProfile</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Mon Dec 22 2025 22:17:13 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
